(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{702:function(e,t,s){"use strict";s.r(t);var a=s(157),c=s(158),n=s(160),i=s(159),r=s(1),l=s.n(r),o=s(622),d=s(645),h=s.n(d),j=s(626),u=s.n(j),p=s(624),b=s(625),x=s(690),O=s(24),m=new Date(Date.now()),f=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=h()(c.state.date).format("DD/MM/YYYY");u.a.post("http://localhost:5000/trip/search",{start:c.state.pickup,end:c.state.drop,date:t}).then((function(e){console.log(e.data),c.setState({buses:e.data}),c.setState({res_received:!0})})).catch((function(e){alert("ERROR: Unable to Search Buses!"),console.log(e)}))},c.setPickup=function(e){c.setState({pickup:e.target.value})},c.setDrop=function(e){c.setState({drop:e.target.value})},c.handleChange=function(e){console.log(e),c.setState({date:e.target.value})},c.state={username:"",pickup:"",drop:"",date:new Date,buses:[],res_received:!1},c}return Object(c.a)(s,[{key:"setDate",value:function(e){this.setState({date:e})}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"justify-content-left",children:[Object(O.jsx)(o.default,{source:this.state.pickup,destination:this.state.drop}),1==this.state.res_received?Object(O.jsx)(x.default,{buses:this.state.buses,source:this.state.pickup,destination:this.state.drop}):Object(O.jsx)(p.G,{md:"2",children:Object(O.jsx)(p.k,{md:"4",children:Object(O.jsx)(p.h,{children:Object(O.jsx)(p.f,{className:"p-4",children:Object(O.jsx)(p.g,{children:Object(O.jsxs)(p.p,{children:[Object(O.jsx)("h1",{children:"Search For Buses"}),Object(O.jsx)("p",{className:"text-muted",children:"Please Enter the below deails"}),Object(O.jsxs)(p.w,{className:"mb-4",children:[Object(O.jsx)(p.x,{children:Object(O.jsx)(p.y,{children:Object(O.jsx)(b.a,{name:"cil-bus-alt"})})}),Object(O.jsx)(p.v,{type:"text",placeholder:"Pick Up Location",onChange:this.setPickup})]}),Object(O.jsxs)(p.w,{className:"mb-4",children:[Object(O.jsx)(p.x,{children:Object(O.jsx)(p.y,{children:Object(O.jsx)(b.a,{name:"cil-bus-alt"})})}),Object(O.jsx)(p.v,{type:"text",placeholder:"Drop Location",onChange:this.setDrop})]}),Object(O.jsx)(p.w,{className:"mb-4",children:Object(O.jsx)(p.v,{type:"date",id:"date-input",name:"date-input",placeholder:"date",onChange:this.handleChange,min:m})}),Object(O.jsx)(p.G,{children:Object(O.jsx)(p.k,{xs:"6",children:Object(O.jsx)(p.e,{color:"primary",className:"px-4",onClick:this.handleSubmit,children:"Search"})})})]})})})})})})]})}}]),s}(l.a.Component);t.default=f}}]);
//# sourceMappingURL=20.e9efe366.chunk.js.map