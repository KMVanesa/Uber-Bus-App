(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{702:function(e,t,s){"use strict";s.r(t);var a=s(157),c=s(158),n=s(160),i=s(159),r=s(1),l=s.n(r),o=s(622),d=s(645),j=s.n(d),h=s(626),u=s.n(h),b=s(624),p=s(625),O=s(690),x=s(24),m=new Date(Date.now()),f=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=j()(c.state.date).format("DD/MM/YYYY"),s=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL;u.a.post(s+"/trip/search",{start:c.state.pickup,end:c.state.drop,date:t}).then((function(e){console.log(e.data),c.setState({buses:e.data}),c.setState({res_received:!0})})).catch((function(e){alert("ERROR: Unable to Search Buses!"),console.log(e)}))},c.setPickup=function(e){c.setState({pickup:e.target.value})},c.setDrop=function(e){c.setState({drop:e.target.value})},c.handleChange=function(e){console.log(e),c.setState({date:e.target.value})},c.state={username:"",pickup:"",drop:"",date:new Date,buses:[],res_received:!1},c}return Object(c.a)(s,[{key:"setDate",value:function(e){this.setState({date:e})}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"justify-content-left",children:[Object(x.jsx)(o.default,{source:this.state.pickup,destination:this.state.drop}),1==this.state.res_received?Object(x.jsx)(O.default,{buses:this.state.buses,source:this.state.pickup,destination:this.state.drop}):Object(x.jsx)(b.G,{md:"2",children:Object(x.jsx)(b.k,{md:"4",children:Object(x.jsx)(b.h,{children:Object(x.jsx)(b.f,{className:"p-4",children:Object(x.jsx)(b.g,{children:Object(x.jsxs)(b.p,{children:[Object(x.jsx)("h1",{children:"Search For Buses"}),Object(x.jsx)("p",{className:"text-muted",children:"Please Enter the below deails"}),Object(x.jsxs)(b.w,{className:"mb-4",children:[Object(x.jsx)(b.x,{children:Object(x.jsx)(b.y,{children:Object(x.jsx)(p.a,{name:"cil-bus-alt"})})}),Object(x.jsx)(b.v,{type:"text",placeholder:"Pick Up Location",onChange:this.setPickup})]}),Object(x.jsxs)(b.w,{className:"mb-4",children:[Object(x.jsx)(b.x,{children:Object(x.jsx)(b.y,{children:Object(x.jsx)(p.a,{name:"cil-bus-alt"})})}),Object(x.jsx)(b.v,{type:"text",placeholder:"Drop Location",onChange:this.setDrop})]}),Object(x.jsx)(b.w,{className:"mb-4",children:Object(x.jsx)(b.v,{type:"date",id:"date-input",name:"date-input",placeholder:"date",onChange:this.handleChange,min:m})}),Object(x.jsx)(b.G,{children:Object(x.jsx)(b.k,{xs:"6",children:Object(x.jsx)(b.e,{color:"primary",className:"px-4",onClick:this.handleSubmit,children:"Search"})})})]})})})})})})]})}}]),s}(l.a.Component);t.default=f}}]);
//# sourceMappingURL=20.e0cca206.chunk.js.map