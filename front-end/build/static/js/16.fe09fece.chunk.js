(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[16,17],{622:function(e,t,s){"use strict";s.r(t);var c=s(623),a=s(629),n=s(628),o=s.n(n),l=s(1),i=s(24),r={width:"100%",height:"100%"};o.a.setApiKey("AIzaSyAXqG-Gj13lWS2mNilDjVGw807lMJs55mM"),o.a.setLanguage("en");t.default=Object(a.GoogleApiWrapper)({apiKey:"AIzaSyAXqG-Gj13lWS2mNilDjVGw807lMJs55mM"})((function(e){console.log(e);var t=Object(l.useState)(),s=Object(c.a)(t,2),n=(s[0],s[1]),j=Object(l.useState)(),b=Object(c.a)(j,2),u=b[0],d=b[1],h=Object(l.useState)(),O=Object(c.a)(h,2),x=O[0],m=O[1],p=Object(l.useState)(),g=Object(c.a)(p,2),f=g[0],k=g[1],v=Object(l.useState)(),S=Object(c.a)(v,2),y=S[0],N=S[1],D=Object(l.useState)(),w=Object(c.a)(D,2),G=w[0],A=w[1],C=Object(l.useState)([]),B=Object(c.a)(C,2);B[0],B[1];Object(l.useEffect)((function(){n(e.source)}),[]),Object(l.useEffect)((function(){d(e.destination)}),[]),console.log(e.source),console.log(u),Object(l.useEffect)((function(){o.a.fromAddress(e.source).then((function(e){console.log(e.results[0]);var t=e.results[0].geometry.location,s=t.lat,c=t.lng;m(s),k(c),console.log(s,c)}),(function(e){console.error(e)}))}),[]),Object(l.useEffect)((function(){o.a.fromAddress(e.destination).then((function(e){console.log(e.results[0]);var t=e.results[0].geometry.location,s=t.lat,c=t.lng;N(s),A(c),console.log(s,c)}),(function(e){console.error(e)}))}),[]);var M="admin"==localStorage.getItem("loggedinUser")?null:Object(i.jsx)(a.Marker,{position:{lat:x,lng:f}}),E="admin"==localStorage.getItem("loggedinUser")?null:Object(i.jsx)(a.Marker,{position:{lat:y,lng:G}});return Object(i.jsxs)(a.Map,{className:"c-main",google:e.google,zoom:8,style:r,initialCenter:{lat:42.3601,lng:-71.0589},children:[M,E]})}))},705:function(e,t,s){"use strict";s.r(t);var c=s(157),a=s(158),n=s(160),o=s(159),l=s(1),i=s.n(l),r=s(622),j=s(624),b=s(625),u=s(626),d=s.n(u),h=s(623),O=s(19),x=s(24),m=function(e){var t=Object(l.useState)([]),s=Object(h.a)(t,2),c=(s[0],s[1],Object(O.g)());console.log(c),console.log(e),console.log(e.bookDetails.bus),console.log(e.bookDetails);var a=e.bookDetails.bus;console.log(a);var n=a?Object.entries(a):[["_id",Object(x.jsxs)("span",{children:[Object(x.jsx)(b.a,{className:"text-muted",name:"cui-icon-ban"})," Not found"]})]];return Object(x.jsxs)("div",{children:[Object(x.jsx)(r.default,{source:e.source,destination:e.destination}),Object(x.jsx)(j.G,{children:Object(x.jsx)(j.k,{lg:6,children:Object(x.jsxs)(j.f,{children:[Object(x.jsxs)(j.i,{children:["Booking id: ",e.bookDetails._id]}),Object(x.jsx)(j.g,{children:Object(x.jsx)("table",{className:"table table-striped table-hover",children:Object(x.jsx)("tbody",{children:n.map((function(e,t){var s=Object(h.a)(e,2),c=s[0],a=s[1];return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"".concat(c,":")}),Object(x.jsx)("td",{children:Object(x.jsx)("strong",{children:a})})]},t)}))})})})]})})})]})},p=function(e){Object(n.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault();d.a.post("http://localhost:5000/trip/new",{user:a.state.username,bus:a.state.busid}).then((function(e){console.log(e.data),null!=e.data.bus?(a.setState({bookDetails:e.data}),a.setState({res_received:!0})):a.setState({book:!0})})).catch((function(e){a.setState({book:!0}),console.log(e)}))},a.setUserName=function(e){a.setState({username:e.target.value})},a.setPickup=function(e){a.setState({pickup:e.target.value})},a.setDrop=function(e){a.setState({drop:e.target.value})},a.setDate=function(e){a.setState({date:e.target.value})},a.setBusid=function(e){a.setState({busid:e.target.value})},a.state={username:"",pickup:"",drop:"",date:"",busid:"",bookDetails:[],res_received:!1,res:[],book:!1},a}return Object(a.a)(s,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"justify-content-left",children:[Object(x.jsx)(r.default,{source:this.state.pickup,destination:this.state.drop}),1==this.state.res_received?Object(x.jsx)(m,{bookDetails:this.state.bookDetails,source:this.state.pickup,destination:this.state.drop}):Object(x.jsx)(j.G,{md:"2",children:Object(x.jsx)(j.k,{md:"4",children:Object(x.jsx)(j.h,{children:Object(x.jsx)(j.f,{className:"p-4",children:Object(x.jsx)(j.g,{children:Object(x.jsxs)(j.p,{children:[Object(x.jsx)("h1",{children:"Book A Bus"}),Object(x.jsx)("p",{className:"text-muted",children:"Please Enter the below deails"}),Object(x.jsxs)(j.w,{className:"mb-3",children:[Object(x.jsx)(j.x,{children:Object(x.jsx)(j.y,{children:Object(x.jsx)(b.a,{name:"cil-user"})})}),Object(x.jsx)(j.v,{type:"text",placeholder:"Username",autoComplete:"username",onChange:this.setUserName})]}),Object(x.jsxs)(j.w,{className:"mb-4",children:[Object(x.jsx)(j.x,{children:Object(x.jsx)(j.y,{children:Object(x.jsx)(b.a,{name:"cil-bus-alt"})})}),Object(x.jsx)(j.v,{type:"text",placeholder:"Pick Up Location",onChange:this.setPickup})]}),Object(x.jsxs)(j.w,{className:"mb-4",children:[Object(x.jsx)(j.x,{children:Object(x.jsx)(j.y,{children:Object(x.jsx)(b.a,{name:"cil-bus-alt"})})}),Object(x.jsx)(j.v,{type:"text",placeholder:"Drop Location",onChange:this.setDrop})]}),Object(x.jsx)(j.w,{className:"mb-4",children:Object(x.jsx)(j.v,{type:"date",id:"date-input",name:"date-input",placeholder:"date",onChange:this.setDate})}),Object(x.jsxs)(j.w,{className:"mb-4",children:[Object(x.jsx)(j.x,{children:Object(x.jsx)(j.y,{children:Object(x.jsx)(b.a,{name:"cil-bus-alt"})})}),Object(x.jsx)(j.v,{type:"number",placeholder:"BusId",onChange:this.setBusid})]}),Object(x.jsx)(j.G,{children:Object(x.jsxs)(j.k,{xs:"6",children:[Object(x.jsx)(j.e,{color:"primary",className:"px-4",onClick:this.handleSubmit,children:"Book Bus"}),1==this.state.book?Object(x.jsx)(j.j,{className:"text-danger",children:"Please Enter Valid Values"}):null]})})]})})})})})})]})}}]),s}(i.a.Component);t.default=p}}]);
//# sourceMappingURL=16.fe09fece.chunk.js.map