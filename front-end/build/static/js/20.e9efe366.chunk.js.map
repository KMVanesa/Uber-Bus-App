{"version":3,"sources":["views/user/SearchCab.js"],"names":["minDate","Date","now","SearchCab","props","handleSubmit","e","preventDefault","dateFormat","Moment","state","date","format","axios","post","pickup","drop","then","response","console","log","data","setState","buses","res_received","catch","error","alert","setPickup","target","value","setDrop","handleChange","username","this","className","source","destination","md","name","type","placeholder","onChange","id","min","xs","color","onClick","React","Component"],"mappings":"4TAqBMA,EAAU,IAAIC,KAAKA,KAAKC,OAExBC,E,kDACJ,WAAaC,GAAO,IAAD,8BACjB,cAAMA,IAaRC,aAAe,SAAAC,GACbA,EAAEC,iBACF,IAAMC,EAAaC,IAAO,EAAKC,MAAMC,MAAMC,OAAO,cAClDC,IAAMC,KAAK,oCACH,CACI,MAAS,EAAKJ,MAAMK,OACpB,IAAO,EAAKL,MAAMM,KAClB,KAAQR,IAGbS,MAAK,SAAAC,GACJC,QAAQC,IAAIF,EAASG,MACrB,EAAKC,SAAS,CAACC,MAAML,EAASG,OAC9B,EAAKC,SAAS,CAACE,cAAa,OAE7BC,OAAM,SAAAC,GACLC,MAAM,kCACNR,QAAQC,IAAIM,OA/BH,EAmClBE,UAAY,SAACtB,GACZ,EAAKgB,SAAS,CAACP,OAAOT,EAAEuB,OAAOC,SApCd,EAsCnBC,QAAU,SAACzB,GACT,EAAKgB,SAAS,CAACN,KAAKV,EAAEuB,OAAOC,SAvCZ,EA4CnBE,aAAc,SAAC1B,GACba,QAAQC,IAAId,GACZ,EAAKgB,SAAS,CACZX,KAAML,EAAEuB,OAAOC,SA5CjB,EAAKpB,MAAQ,CACXuB,SAAU,GACVlB,OAAO,GACPC,KAAK,GACLL,KAAM,IAAIV,KACVsB,MAAM,GACNC,cAAa,GATE,E,2CAyCnB,SAASb,GACPuB,KAAKZ,SAAS,CAACX,W,oBAQjB,WACA,OACE,sBAAKwB,UAAU,uBAAf,UACU,cAAC,UAAD,CAAWC,OAAQF,KAAKxB,MAAMK,OAAQsB,YAAaH,KAAKxB,MAAMM,OAC1C,GAA3BkB,KAAKxB,MAAMc,aAAuB,cAAC,UAAD,CAAaD,MAAOW,KAAKxB,MAAMa,MAAOa,OAAQF,KAAKxB,MAAMK,OAAQsB,YAAaH,KAAKxB,MAAMM,OACtH,cAAC,IAAD,CAAMsB,GAAG,IAAT,SACA,cAAC,IAAD,CAAMA,GAAG,IAAT,SACI,cAAC,IAAD,UACA,cAAC,IAAD,CAAOH,UAAU,MAAjB,SACI,cAAC,IAAD,UACA,eAAC,IAAD,WACI,kDACA,mBAAGA,UAAU,aAAb,2CACA,eAAC,IAAD,CAAaA,UAAU,OAAvB,UACA,cAAC,IAAD,UACI,cAAC,IAAD,UACA,cAAC,IAAD,CAAOI,KAAK,oBAGhB,cAAC,IAAD,CAAQC,KAAK,OAAOC,YAAY,mBAAmBC,SAAUR,KAAKN,eAElE,eAAC,IAAD,CAAaO,UAAU,OAAvB,UACA,cAAC,IAAD,UACI,cAAC,IAAD,UACA,cAAC,IAAD,CAAOI,KAAK,oBAGhB,cAAC,IAAD,CAAQC,KAAK,OAAOC,YAAY,gBAAgBC,SAAUR,KAAKH,aAE/D,cAAC,IAAD,CAAaI,UAAU,OAAvB,SAEA,cAAC,IAAD,CAAQK,KAAK,OAAOG,GAAG,aAAaJ,KAAK,aAAaE,YAAY,OAAOC,SAAUR,KAAKF,aAAcY,IAAK5C,MAE3G,cAAC,IAAD,UACA,cAAC,IAAD,CAAM6C,GAAG,IAAT,SACI,cAAC,IAAD,CAASC,MAAM,UAAUX,UAAU,OAAOY,QAASb,KAAK7B,aAAxD,4C,GAtFJ2C,IAAMC,WAsGf9C","file":"static/js/20.e9efe366.chunk.js","sourcesContent":["import React from 'react'\nimport Dashboard from \"../dashboard/Dashboard.js\"\nimport Moment from 'moment';\nimport axios from 'axios'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport SearchBuses from \"./SearchBuses.js\"\n\n\nconst minDate = new Date(Date.now());\n\nclass SearchCab extends React.Component{\n  constructor (props){\n    super(props);\n    \n    this.state = {\n      username: \"\",\n      pickup:\"\",\n      drop:\"\",\n      date: new Date(),\n      buses:[],\n      res_received:false\n      }\n\n    }\n     \n  handleSubmit = e => {\n    e.preventDefault();\n    const dateFormat = Moment(this.state.date).format('DD/MM/YYYY')\n    axios.post(\"http://localhost:5000/trip/search\",\n            {\n                \"start\": this.state.pickup,\n                \"end\": this.state.drop,\n                \"date\": dateFormat\n            }\n          )\n          .then(response => {\n            console.log(response.data)\n            this.setState({buses:response.data})\n            this.setState({res_received:true})\n          })\n          .catch(error => {\n            alert(\"ERROR: Unable to Search Buses!\")\n            console.log(error);\n          });   \n    }\n  \n   setPickup = (e) =>{\n    this.setState({pickup:e.target.value})\n  }\n  setDrop = (e) =>{\n    this.setState({drop:e.target.value})\n  }\n  setDate (date){\n    this.setState({date})\n  }\n  handleChange= (e) =>{\n    console.log(e)\n    this.setState({\n      date: e.target.value\n    })\n  }\n  render(){\n  return (\n    <div className=\"justify-content-left\">\n              <Dashboard source={this.state.pickup} destination={this.state.drop}/>\n      {this.state.res_received == true ? <SearchBuses buses={this.state.buses} source={this.state.pickup} destination={this.state.drop} /> : \n            <CRow md=\"2\">\n            <CCol md=\"4\">\n                <CCardGroup>\n                <CCard className=\"p-4\">\n                    <CCardBody>\n                    <CForm>\n                        <h1>Search For Buses</h1>\n                        <p className=\"text-muted\">Please Enter the below deails</p>\n                        <CInputGroup className=\"mb-4\">\n                        <CInputGroupPrepend>\n                            <CInputGroupText>\n                            <CIcon name=\"cil-bus-alt\" />\n                            </CInputGroupText>\n                        </CInputGroupPrepend>\n                        <CInput type=\"text\" placeholder=\"Pick Up Location\" onChange={this.setPickup}/>\n                        </CInputGroup>\n                        <CInputGroup className=\"mb-4\">\n                        <CInputGroupPrepend>\n                            <CInputGroupText>\n                            <CIcon name=\"cil-bus-alt\" />\n                            </CInputGroupText>\n                        </CInputGroupPrepend>\n                        <CInput type=\"text\" placeholder=\"Drop Location\" onChange={this.setDrop}/>\n                        </CInputGroup>\n                        <CInputGroup className=\"mb-4\">\n                        {/* <DatePicker onChange={this.handleChange} selected={this.state.date} min={minDate}/> */}\n                        <CInput type=\"date\" id=\"date-input\" name=\"date-input\" placeholder=\"date\" onChange={this.handleChange} min={minDate}/>\n                        </CInputGroup>\n                        <CRow>\n                        <CCol xs=\"6\">\n                            <CButton color=\"primary\" className=\"px-4\" onClick={this.handleSubmit}>Search</CButton>\n                        </CCol>\n                        </CRow>\n                    </CForm>\n                    </CCardBody>\n                </CCard>\n                \n              </CCardGroup>\n            </CCol>\n            </CRow>\n  }\n    </div>\n  )\n}\n}\n\nexport default SearchCab\n"],"sourceRoot":""}